(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},123:function(e,t,a){},124:function(e,t,a){},125:function(e,t,a){},126:function(e,t,a){},127:function(e,t,a){},128:function(e,t,a){},129:function(e,t,a){},130:function(e,t,a){},131:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(20),l=a.n(r),i=a(7),o=a(4),s=(a(72),function(e){return c.a.createElement("input",{type:e.type,value:e.value,checked:e.checked,placeholder:e.placeholder,onChange:e.onChange,onKeyDown:e.onKeyDown})}),u=a(15),m=a.n(u),d=a(22),p=a(53),f=a.n(p).a.create({baseURL:"https://family-search-axioma.onrender.com//api",withCredentials:!0});f.interceptors.request.use((function(e){return e.headers.Authorisation="Bearer ".concat(localStorage.getItem("Access_token")),e})),f.interceptors.request.use((function(e){return e.headers.Authorisation="Bearer ".concat(localStorage.getItem("Access_token")),e}));var E=null;f.interceptors.response.use((function(e){return e}),(function(e){return 401===e.response.status?(E=e.response.data.originalReq,console.log("original req: ",E),console.log("Message from axios interceptor : (cought 401 eror)access token was expired and now trying to refresh"),f.get("user/refresh").then((function(e){return console.log('Message from axios interceptor (response from "user/refresh"): sending refreshed access token to for "user/auth"'),localStorage.setItem("Access_token",e.data.tokens.tokens.access_token),f.get("user/auth").then((function(e){switch(console.log("Message from axios interceptor: user successfully refreshed"),E.method){case"GET":return f.get("".concat(E.url.split("api")[1]));case"POST":return f.post("".concat(E.url.split("api")[1]),E.body);case"PUT":return f.put("".concat(E.url.split("api")[1]),E.body);default:return e}})).catch((function(e){return Promise.reject(e)}))})).catch((function(e){return console.log('Message from axios interceptor (response from "user/refresh"): refresh was expired or something else happened'),Promise.reject(e)}))):(console.log("Message from axios interceptor: error.status !== 401 "),Promise.reject(e))}));var v=a(6),b={currentUser:{},isAuth:!1};var h=function(e){return{type:"SET_USER",payload:e}};function g(e,t,a,n){return function(){var c=Object(d.a)(m.a.mark((function c(r){var l;return m.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,f.post("/user/registration",{email:e,password:t,name:a,lastName:n});case 3:l=c.sent,r(h(l.data.user.user)),localStorage.setItem("Access_token",l.data.user.access_token),c.next=12;break;case 8:return c.prev=8,c.t0=c.catch(0),console.log(c.t0.response.data),c.abrupt("return",alert(c.t0.response.data.message));case 12:case"end":return c.stop()}}),c,null,[[0,8]])})));return function(e){return c.apply(this,arguments)}}()}function O(e,t){return function(){var a=Object(d.a)(m.a.mark((function a(n){var c;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,f.post("/user/authorisation",{email:e,password:t});case 3:c=a.sent,n(h(c.data.user.user)),localStorage.setItem("Access_token",c.data.user.access_token),a.next=11;break;case 8:return a.prev=8,a.t0=a.catch(0),a.abrupt("return",alert(a.t0.response.data.message));case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}var N=a(5),y=(a(97),function(){var e=Object(N.b)(),t=Object(n.useState)(""),a=Object(o.a)(t,2),r=a[0],l=a[1],i=Object(n.useState)(""),u=Object(o.a)(i,2),m=u[0],d=u[1],p=Object(n.useState)(""),f=Object(o.a)(p,2),E=f[0],v=f[1],b=Object(n.useState)(""),h=Object(o.a)(b,2),O=h[0],y=h[1];return c.a.createElement("div",{className:"registration"},c.a.createElement("div",{className:"registration__inner"},c.a.createElement("h1",null,"Registration"),c.a.createElement(s,{type:"text",placeholder:"First name",value:E,onChange:function(e){return v(e.target.value)}}),c.a.createElement(s,{type:"text",placeholder:"Last name",value:O,onChange:function(e){return y(e.target.value)}}),c.a.createElement(s,{type:"text",placeholder:"email",value:r,onChange:function(e){l(e.target.value)}}),c.a.createElement(s,{type:"password",placeholder:"password",value:m,onChange:function(e){d(e.target.value)},onKeyDown:function(t){if("Enter"===t.code)return e(g(r,m))}}),c.a.createElement("button",{onClick:function(){return e(g(r,m,E,O))}},"Send")))}),j=(a(98),function(){var e=Object(N.b)(),t=Object(n.useState)(""),a=Object(o.a)(t,2),r=a[0],l=a[1],i=Object(n.useState)(""),u=Object(o.a)(i,2),m=u[0],d=u[1];return c.a.createElement("div",{className:"authorisation"},c.a.createElement("div",{className:"authorisation__inner"},c.a.createElement("h1",null,"Authorisation"),c.a.createElement(s,{type:"text",placeholder:"email",value:r,onChange:function(e){l(e.target.value)}}),c.a.createElement(s,{type:"password",placeholder:"password",value:m,onChange:function(e){d(e.target.value)},onKeyDown:function(t){if("Enter"===t.code)return e(O(r,m))}}),c.a.createElement("button",{onClick:function(){e(O(r,m))}},"Send")))}),_=(a(99),function(){return c.a.createElement("div",{className:"default"},c.a.createElement("div",{className:"title"},"DefaultPage"),c.a.createElement("div",{className:"main info"},"In order to search for accomodation you have to register"))}),k=(a(100),a(101),a(11)),S=function(e){var t=e.family;return c.a.createElement(k.b,{style:{textDecoration:"none"},to:"/show/".concat(t._id)},c.a.createElement("div",{className:"familyItem"},t.photos?c.a.createElement("img",{src:t.photos[0],alt:""}):c.a.createElement("div",null),c.a.createElement("div",{className:"data"},c.a.createElement("div",{className:"title"},"Family in ",t.district),c.a.createElement("ul",{className:"properties"},c.a.createElement("li",null,t.property_type),c.a.createElement("li",null,t.accommodation_type)),c.a.createElement("div",{className:"costs"},c.a.createElement("div",{className:"costs_container"},c.a.createElement("div",{className:"costs_type"},"without food"),c.a.createElement("div",{className:"costs_number"},t.cost.cost_without_food,"\u20ac")),t.cost.cost_with_food?c.a.createElement("div",{className:"costs_container"},c.a.createElement("div",{className:"costs_type"},"half_board"),c.a.createElement("div",{className:"costs_number"},t.cost.cost_with_food,"\u20ac")):c.a.createElement("div",null)),c.a.createElement("div",{className:"freeProperty"},!0===t.free?c.a.createElement("div",{className:"free"},"Free right now"):c.a.createElement("div",{className:"free_after"},"Free after: ",t.free)))))},w=(a(102),function(){var e=Object(N.c)((function(e){return e.family.families}));return e&&e.length?c.a.createElement("div",{className:"familiesList"},e.map((function(e){return c.a.createElement(S,{key:e._id,family:e})}))):c.a.createElement("h1",null,"Families are not found")}),x=(a(103),{families:[],currFamily:{},totalNumber:0,currPage:1,limit:3});var C=function(e){return{type:"SET_CURR_PAGE",payload:e}},P=function(e,t){return function(){var a=Object(d.a)(m.a.mark((function a(n){var c;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,f.post("/family/getFamilies",{options:e,paginationOptions:t});case 3:c=a.sent,console.log(c.data),n({type:"GET_FAMILIES",payload:c.data.families}),n({type:"SET_TOTAL_NUMBER",payload:c.data.totalNumber}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.error(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()},T=a(9),A={conditions:{wifi:!1,separate_bath:!1,food:{half_board:!1,only_breakfast:!1},pets:!1,kitchen:!1},registration:!1,free:!1,range:[0,1e3]},I=function(e,t){return{type:"SET_CONDITIONS",payload:e,value:t}},U=function(e,t){return{type:"CHANGE_FOOD",payload:e,value:t}},R=function(e){return{type:"SET_RANGE",payload:e}},D=a(149),F=a(147),G=function(){var e=Object(N.b)(),t=Object(N.c)((function(e){return e.options.conditions})),a=Object(N.c)((function(e){return e.options.free})),r=Object(N.c)((function(e){return e.options.registration})),l=Object(n.useState)(t),i=Object(o.a)(l,2),u=i[0],m=i[1],d=Object(n.useState)(a),p=Object(o.a)(d,2),f=p[0],E=p[1],v=Object(n.useState)(r),b=Object(o.a)(v,2),h=b[0],g=b[1],O=Object(n.useState)(!1),y=Object(o.a)(O,2),j=y[0],_=y[1],k=Object(N.c)((function(e){return e.family.currPage})),S=Object(N.c)((function(e){return e.family.limit})),w=Object(N.c)((function(e){return e.options.range})),x=Object(n.useState)(w),T=Object(o.a)(x,2),A=T[0],G=T[1];return Object(n.useEffect)((function(){clearTimeout(j);var n={conditions:t,registration:r,free:a,range:w},c={currPage:k,limit:S};""===w[0]||""===w[1]?e(R([0,1e3])):t.wifi||t.separate_bath||t.pets||t.kitchen||r||a||0!==w[0]||1e3!==w[1]?_((function(){return setTimeout((function(n){f!==a||h!==r||A!==w||u!==t?(console.log(w),e(C(1)),e(P(n,{currPage:1,limit:S})),m(t),g(r),E(a),G(w)):e(P(n,c))}),500,n)})):_((function(){return setTimeout((function(){e(P(null,c))}),300)}))}),[t,a,r,w,k]),c.a.createElement("div",{className:"options_container"},c.a.createElement("div",{className:"main-title",style:{borderBottom:"1px solid rgb(142, 174, 189)"}},"Choose your options"),c.a.createElement("div",{className:"cost",style:{borderBottom:"1px solid rgb(142, 174, 189)"}},c.a.createElement("div",{className:"title"},"Cost:"),c.a.createElement("div",{className:"input_area"},c.a.createElement(s,{type:"number",value:w[0],onChange:function(t){G(w),e(R([t.target.value,w[1]]))}}),"-",c.a.createElement(s,{type:"number",value:w[1],onChange:function(t){G(w),e(R([w[0],t.target.value]))}})),c.a.createElement("div",{className:"mui-slider"},c.a.createElement(D.a,{sx:{width:160}},c.a.createElement(F.a,{getAriaLabel:function(){return"Cost"},value:w,onChange:function(t,a){G(w),e(R(a))},valueLabelDisplay:"auto",max:1e3})))),c.a.createElement("div",{className:"title"},"Conditions:"),c.a.createElement("div",{className:"conditions",style:{borderBottom:"1px solid rgb(142, 174, 189)"}},c.a.createElement("div",null,c.a.createElement(s,{checked:t.wifi,type:"checkbox",onChange:function(a){m(t),e(I(a.target.checked,"wifi"))}})," Wifi"),c.a.createElement("div",null,c.a.createElement(s,{checked:t.separated_bath,type:"checkbox",onChange:function(a){m(t),e(I(a.target.checked,"separate_bath"))}})," Separate bath"),c.a.createElement("div",null,c.a.createElement(s,{checked:t.pets,type:"checkbox",onChange:function(a){m(t),e(I(a.target.checked,"pets"))}})," Without pets"),c.a.createElement("div",null,c.a.createElement(s,{checked:t.kitchen,type:"checkbox",onChange:function(a){m(t),e(I(a.target.checked,"kitchen"))}})," Kitchen usage")),c.a.createElement("div",{className:"title"},"Food"),c.a.createElement("div",{className:"food",style:{borderBottom:"1px solid rgb(142, 174, 189)"}},c.a.createElement("div",null,c.a.createElement(s,{checked:t.food.half_board,type:"checkbox",onChange:function(a){m(t),e(U(a.target.checked,"half_board"))}})," half-board"),c.a.createElement("div",null,c.a.createElement(s,{checked:t.food.only_breakfast,type:"checkbox",onChange:function(a){m(t),e(U(a.target.checked,"only_breakfast"))}})," only breakfast")),c.a.createElement("div",{className:"registrationPermission",style:{borderBottom:"1px solid rgb(142, 174, 189)"}},c.a.createElement("div",null,c.a.createElement(s,{checked:r,type:"checkbox",onChange:function(t){g(a),e(function(e){return{type:"SET_REGISTRATION",payload:e}}(t.target.checked))}})," Permission for registration")),c.a.createElement("div",{className:"isfree",style:{borderBottom:"1px solid rgb(142, 174, 189)"}},c.a.createElement("div",null,c.a.createElement(s,{checked:a,type:"checkbox",onChange:function(t){E(a),e(function(e){return{type:"CHANGE_FREE",payload:e}}(t.target.checked))}})," free now")),c.a.createElement("button",{className:"show_all",onClick:function(){e(C(1)),e(P(null,{currPage:1,limit:S}))}},"Show all without filters"))},M=function(){var e=Object(N.c)((function(e){return e.family.totalNumber})),t=Object(N.c)((function(e){return e.family.limit})),a=Object(N.c)((function(e){return e.family.currPage})),n=Object(N.b)();return c.a.createElement("div",{className:"env"},c.a.createElement("div",{className:"env__container"},c.a.createElement("div",{className:"env__inner"},c.a.createElement("div",{className:"options"},c.a.createElement(G,null)),c.a.createElement("div",{className:"families"},c.a.createElement(w,null),c.a.createElement("nav",null,function(){for(var r=[],l=0,i=1;l<e;l+=t,i++)r.push(i);return e<=t?void 0:r.map((function(e,t){return c.a.createElement("button",{className:"page_btn ".concat(e===a?"active":""),onClick:function(){return n(C(e))},key:t},e)}))}())))))},L=a(57),H=a.n(L);a(121),a(122),a(123);function B(e){var t=e.photos,a={dots:!0,infinite:!0,speed:1e3,slidesToShow:1,slidesToScroll:1};return c.a.createElement(H.a,a,t.map((function(e){return c.a.createElement("img",{className:"photo",key:e,src:e})})))}a(132),a(124);var z=function(){var e=Object(i.i)(),t=Object(n.useState)({}),a=Object(o.a)(t,2),r=a[0],l=a[1];return Object(n.useEffect)((function(){f.get("/family/getFamily?id=".concat(e.id)).then((function(e){return l(e.data.family)}))}),[]),r._id?c.a.createElement("div",{className:"show_family"},c.a.createElement("div",{className:"show_family__inner"},c.a.createElement("div",{className:"title main_title"},"Family in ",r.district),c.a.createElement("div",{className:"show_family__inner__container"},c.a.createElement("div",{className:"slider photos"},c.a.createElement(B,{photos:r.photos})),c.a.createElement("div",{className:"main-info"},c.a.createElement("div",{className:"map"},c.a.createElement("iframe",{className:"map",src:"https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d35825.96584895187!2d11.585656865518873!3d48.13374962846394!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sru!2sua!4v1642517522714!5m2!1sru!2sua",width:"100%",style:{border:0},loading:"lazy"})),c.a.createElement("div",{className:"properties"}),c.a.createElement("div",{className:"conditions"},c.a.createElement("div",{className:"title-conditions"},"Conditions:"),c.a.createElement("ul",null,r.conditions.wifi?c.a.createElement("li",null," Wifi available"):c.a.createElement("div",null),r.conditions.separate_bath?c.a.createElement("li",null," Separate bath"):c.a.createElement("div",null),r.conditions.food.half_board?c.a.createElement("li",null," We can provide breakfast or half-board nutrition"):r.conditions.food.only_breakfast?c.a.createElement("li",null,"We can provide breakfasts"):c.a.createElement("div",null),r.conditions.kitchen?c.a.createElement("li",null," You can use our kitchen to cook"):c.a.createElement("div",null))),c.a.createElement("div",{className:"property_type"},c.a.createElement("div",{className:"title"},"Property and accommodation type"),c.a.createElement("div",null,r.property_type),c.a.createElement("div",null,r.accommodation_type)))),c.a.createElement("div",{className:"description"},c.a.createElement("div",{className:"title description-title"},"Description:"),r.description))):c.a.createElement("div",null)},W=(a(125),a(12)),K=a(40),q={showpopup:!1,members:[],photos:[]};var J=function(){var e=Object(N.b)(),t=Object(n.useState)([{value:"",id:Object(K.a)()}]),a=Object(o.a)(t,2),r=a[0],l=a[1],i=Object(n.useState)(0),s=Object(o.a)(i,2),u=s[0],m=s[1];return Object(n.useEffect)((function(){clearTimeout(u),m(setTimeout((function(){e(function(e){return{type:"SET_MEMBERS",payload:e}}(r))}),500))}),[r]),c.a.createElement("div",{className:"members_list"},c.a.createElement("button",{className:"add_btn",onClick:function(){l((function(e){return[].concat(Object(W.a)(e),[{value:"",id:Object(K.a)()}])}))}},"Add one"),r.map((function(e,t){return c.a.createElement("div",{key:e.id},c.a.createElement("div",null,c.a.createElement("input",{placeholder:"member",value:e.value,onChange:function(e){return function(e,t){var a=Object(W.a)(r);a[t].value=e.target.value,l(a)}(e,t)}})),c.a.createElement("button",{className:"delete_btn",onClick:function(){return function(e){var t=r.filter((function(t){return t.id!==e}));l(t)}(e.id)}},"remove"))})))},Y=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(""),i=Object(o.a)(l,2),u=i[0],m=i[1],d=Object(n.useState)(""),p=Object(o.a)(d,2),f=p[0],E=p[1],v=Object(n.useState)(""),b=Object(o.a)(v,2),h=b[0],g=b[1],O=Object(n.useState)(!1),y=Object(o.a)(O,2),j=y[0],_=y[1],k=Object(n.useState)(0),S=Object(o.a)(k,2),w=S[0],x=S[1],C=Object(n.useState)(!0),P=Object(o.a)(C,2),T=P[0],A=P[1],I=Object(n.useState)(!1),U=Object(o.a)(I,2),R=(U[0],U[1]),D=Object(N.c)((function(e){return e.UI.members})),F=(Object(N.c)((function(e){return e.UI.photos})),Object(N.c)((function(e){return e.user.currentUser.admin}))),G={contacts:a,adress:u,desc:f,living:h,eating:j,cost:w,free:T};return Object(n.useEffect)((function(){var e=0;D.map((function(t){t.value&&e++})),a&&u&&f&&h&&w&&e===D.length?R(!0):R(!1)}),[G]),F?c.a.createElement("div",{className:"create"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"create__inner"},c.a.createElement("h2",null,"Add new family:"),c.a.createElement("div",{className:"options"},c.a.createElement("div",{className:"photos"},c.a.createElement("div",{className:"title"},"Photos:")),c.a.createElement("div",{className:"members"},c.a.createElement("div",{className:"title"},"Family members:"),c.a.createElement(J,null)),c.a.createElement("div",{className:"contacts"},c.a.createElement("div",{className:"title"},"Contacts:"),c.a.createElement(s,{value:a,placeholder:"contacts",type:"text",onChange:function(e){return r(e.target.value)}})),c.a.createElement("div",{className:""},c.a.createElement("div",{className:"title"},"Adress:"),c.a.createElement(s,{value:u,placeholder:"adress",type:"text",onChange:function(e){return m(e.target.value)}})),c.a.createElement("div",{className:""},c.a.createElement("div",{className:"title"},"Description:"),c.a.createElement("textarea",{placeholder:"Description",value:f,onChange:function(e){return E(e.target.value)},cols:"40",rows:"5"})),c.a.createElement("div",{className:""},c.a.createElement("div",{className:"title"},"Living conditions"),c.a.createElement("textarea",{placeholder:"Living",value:h,onChange:function(e){return g(e.target.value)},cols:"40",rows:"5"})),c.a.createElement("div",{className:""},c.a.createElement("div",{className:"title"},"Eating"),c.a.createElement(s,{type:"checkbox",checked:j,onChange:function(e){return _(e.target.checked)}})),c.a.createElement("div",{className:""},c.a.createElement("div",{className:"title"},"Cost"),c.a.createElement(s,{type:"number",value:w,onChange:function(e){return x(e.target.value)}})),c.a.createElement("div",{className:""},c.a.createElement("div",{className:"title"},"Free"),c.a.createElement(s,{type:"checkbox",checked:T,onChange:function(e){return A(e.target.checked)}})))))):c.a.createElement("div",{className:"no_permission"},c.a.createElement("div",{className:"title"},"Sorry, but you don`t have a permission to add new families"))},X=(a(126),function(){var e=Object(N.c)((function(e){return e.user.currentUser.admin}));return c.a.createElement("div",{className:"profile"},c.a.createElement("div",{className:"profile__options"},c.a.createElement(k.c,{to:"/profile",end:!0},"Main profile"),c.a.createElement(k.c,{to:"/profile/activate"},"Activate account"),e?c.a.createElement(k.c,{to:"/profile/create",end:!0},"Add family"):"",c.a.createElement(k.c,{to:"/profile/settings"},"Settings")),c.a.createElement("div",{className:"profile__env"},c.a.createElement(i.b,null)))}),Q=function(){return c.a.createElement("div",{className:"edit"},"Edit Profile")},V=function(){return c.a.createElement("div",{className:"activate"},c.a.createElement("div",{className:"title"},"Activation will be availible in next updates"))},Z=function(){return c.a.createElement("div",{className:"settings"},c.a.createElement("div",{className:"title"},"Settings"),c.a.createElement("div",{className:"language"},c.a.createElement("div",{className:"title"},"Select interface language"),c.a.createElement(s,null)))},$=(a(127),function(){var e=Object(N.b)(),t=Object(N.c)((function(e){return e.user.currentUser})),a=Object(n.useState)(!1),r=Object(o.a)(a,2),l=r[0],i=r[1],u=Object(n.useState)(t.firstName||""),p=Object(o.a)(u,2),E=p[0],v=p[1],b=Object(n.useState)(t.lastName||""),g=Object(o.a)(b,2),O=g[0],y=g[1],j=Object(n.useState)(t.gender||"male"),_=Object(o.a)(j,2),k=_[0],S=_[1],w=Object(n.useState)(!1),x=Object(o.a)(w,2),C=x[0],P=x[1];return c.a.createElement("div",{className:"main"},c.a.createElement("div",{className:"general_info"},c.a.createElement("div",{className:"title"},"General information"),c.a.createElement("div",{className:"edit_container",style:{height:"30px"}},l?c.a.createElement("div",{style:{height:"10px"}}):c.a.createElement("button",{className:"edit_btn",onClick:function(){return i(!0)}},"Edit profile")),c.a.createElement("div",{className:"info"},c.a.createElement("div",{className:"first_name"},c.a.createElement("div",{className:"title"},"First Name"),l?c.a.createElement(s,{placeholder:t.firstName,value:E,onChange:function(e){v(e.target.value),P(!1)}}):c.a.createElement("div",{className:"display_info"}," ",t.firstName)),c.a.createElement("div",{className:"Second_name"},c.a.createElement("div",{className:"title"},"Last Name"),l?c.a.createElement(s,{placeholder:t.lastName,value:O,onChange:function(e){y(e.target.value),P(!1)}}):c.a.createElement("div",{className:"display_info"}," ",t.lastName)),c.a.createElement("div",{className:"gender"},c.a.createElement("div",{className:"title"},"Gender"),l?c.a.createElement("select",{value:k,onChange:function(e){return S(e.target.value)}},c.a.createElement("option",{value:"male"},"male"),c.a.createElement("option",{value:"female"},"female")):c.a.createElement("div",{className:"display_info"}," ",t.gender)),c.a.createElement("div",{className:"email"},c.a.createElement("div",{className:"title"},"Email"),c.a.createElement("div",{className:"display_info"}," ",t.email))),c.a.createElement("div",{className:"save_container",style:{height:"40px"}},C?c.a.createElement("div",{className:"error_msg"},"All fields must be filled in"):"",l?c.a.createElement("button",{className:"save_btn",onClick:function(){""!==E&&""!==O?(i(!1),e(function(e,t,a){return function(){var n=Object(d.a)(m.a.mark((function n(c){var r,l,i,o;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,f.put("user/update",{firstName:e,lastName:t,gender:a});case 3:r=n.sent,c(h(r.data.user)),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(0),console.error(null===(l=n.t0.response)||void 0===l?void 0:l.data),alert(null===(i=n.t0.response)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.message);case 11:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}(E,O,k))):P(!0)}},"Save changes"):c.a.createElement("div",{style:{height:"10px"}}))))}),ee=function(e){return e?c.a.createElement(i.e,null,c.a.createElement(i.c,{path:"/",element:c.a.createElement(M,null)}),c.a.createElement(i.c,{path:"/show/:id",element:c.a.createElement(z,null)}),c.a.createElement(i.c,{path:"/profile/",element:c.a.createElement(X,null)},c.a.createElement(i.c,{index:!0,element:c.a.createElement($,null)}),c.a.createElement(i.c,{path:"edit",element:c.a.createElement(Q,null)}),c.a.createElement(i.c,{path:"activate",element:c.a.createElement(V,null)}),c.a.createElement(i.c,{path:"create",element:c.a.createElement(Y,null)}),c.a.createElement(i.c,{path:"settings",element:c.a.createElement(Z,null)})),c.a.createElement(i.c,{path:"/authorisation",element:c.a.createElement(i.a,{replace:!0,to:"/"})}),c.a.createElement(i.c,{path:"/registration",element:c.a.createElement(i.a,{replace:!0,to:"/"})})):c.a.createElement(i.e,null,c.a.createElement(i.c,{path:"/",element:c.a.createElement(_,null)}),c.a.createElement(i.c,{path:"/authorisation",element:c.a.createElement(j,null)}),c.a.createElement(i.c,{path:"/registration",element:c.a.createElement(y,null)}),c.a.createElement(i.c,{path:"/logout",element:c.a.createElement(i.a,{replace:!0,to:"/"})}))},te=(a(128),a(129),a(130),function(){var e=Object(N.c)((function(e){return e.user.currentUser})),t=Object(N.b)();return c.a.createElement("div",{className:"account_popup"},c.a.createElement("button",{onClick:function(){return t({type:"HIDEPOPUP"})}},"X"),c.a.createElement("div",{className:"main-info"},c.a.createElement("div",{className:"email"},e.firstName||e.email)),c.a.createElement("div",{className:"profile_options"},c.a.createElement("div",{className:"edit",style:{paddingTop:"3px"}},c.a.createElement(k.b,{onClick:function(){return t({type:"HIDEPOPUP"})},to:"/profile"},"Profile")),c.a.createElement("div",{className:"help",style:{paddingTop:"3px"}},c.a.createElement(k.b,{onClick:function(){return t({type:"HIDEPOPUP"})},to:"/profile/help"},"Help")),c.a.createElement("div",{className:"activation",style:{paddingTop:"3px"}},c.a.createElement(k.b,{onClick:function(){return t({type:"HIDEPOPUP"})},to:"/profile/activate"},"Activate account")),c.a.createElement("div",{className:"settings",style:{paddingTop:"3px"}},c.a.createElement(k.b,{onClick:function(){return t({type:"HIDEPOPUP"})},to:"/profile/settings"},"Settings")),c.a.createElement("div",{className:"logout",style:{padding:"3px 0"},onClick:function(){t(function(){var e=Object(d.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/user/logout");case 3:localStorage.removeItem("Access_token"),t({type:"LOGOUT"}),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",alert(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),t({type:"HIDEPOPUP"})}},"Logout")))}),ae=function(){var e=Object(N.c)((function(e){return e.UI.showpopup})),t=Object(N.c)((function(e){return e.user.isAuth})),a=Object(N.b)();return c.a.createElement("div",{className:"navbar"},c.a.createElement("div",{className:"container"},c.a.createElement(k.b,{to:"/"},c.a.createElement("div",{className:"navbar__logo"},"Axioma Sprachb\xf6rse")),c.a.createElement("div",{className:"navbar__links"},!t&&c.a.createElement("div",{className:"navbar__authorisation"},c.a.createElement(k.b,{to:"/authorisation"},"Authorisation")),!t&&c.a.createElement("div",{className:"navbar__registration"},c.a.createElement(k.b,{to:"/registration"},"Registration")),t&&c.a.createElement("div",{className:"navbar__account"},c.a.createElement("div",{onClick:function(){return a({type:"SHOWPOPUP"})}},"My account"),e?c.a.createElement(te,null):""))))},ne=function(){var e=Object(N.b)(),t=Object(N.c)((function(e){return e.user.isAuth})),a=Object(N.c)((function(e){return e.user.currentUser.admin}));return Object(n.useEffect)((function(){e(function(){var e=Object(d.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/user/auth");case 3:a=e.sent,t(h(a.data.user)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}),[]),c.a.createElement(k.a,null,c.a.createElement(ae,null),ee(t,a))},ce=a(26),re=a(59),le=a(60),ie=Object(ce.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return Object(v.a)(Object(v.a)({},e),{},{currentUser:t.payload,isAuth:!0});case"LOGOUT":return Object(v.a)(Object(v.a)({},e),{},{currentUser:{},isAuth:!1});default:return e}},family:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_FAMILIES":return Object(v.a)(Object(v.a)({},e),{},{families:t.payload});case"SET_CURRENT_FAMILY":return Object(v.a)(Object(v.a)({},e),{},{currFamily:t.payload});case"SET_TOTAL_NUMBER":return Object(v.a)(Object(v.a)({},e),{},{totalNumber:t.payload});case"SET_CURR_PAGE":return Object(v.a)(Object(v.a)({},e),{},{currPage:t.payload});default:return e}},UI:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOWPOPUP":return Object(v.a)(Object(v.a)({},e),{},{showpopup:!0});case"HIDEPOPUP":return Object(v.a)(Object(v.a)({},e),{},{showpopup:!1});case"SET_MEMBERS":return Object(v.a)(Object(v.a)({},e),{},{members:t.payload});case"SET_PHOTOS":return Object(v.a)(Object(v.a)({},e),{},{photos:[].concat(Object(W.a)(e.photos),[t.payload])});default:return e}},options:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CONDITIONS":return Object(v.a)(Object(v.a)({},e),{},{conditions:Object(v.a)(Object(v.a)({},e.conditions),{},Object(T.a)({},t.value,t.payload))});case"CHANGE_FOOD":return Object(v.a)(Object(v.a)({},e),{},{conditions:Object(v.a)(Object(v.a)({},e.conditions),{},{food:Object(v.a)(Object(v.a)({},e.conditions.food),{},Object(T.a)({},t.value,t.payload))})});case"CHANGE_FREE":return Object(v.a)(Object(v.a)({},e),{},{free:t.payload});case"SET_REGISTRATION":return Object(v.a)(Object(v.a)({},e),{},{registration:t.payload});case"SET_RANGE":return Object(v.a)(Object(v.a)({},e),{},{range:t.payload});default:return e}}}),oe=Object(ce.createStore)(ie,Object(re.composeWithDevTools)(Object(ce.applyMiddleware)(le.a)));l.a.render(c.a.createElement(N.a,{store:oe},c.a.createElement(ne,null)),document.getElementById("root"))},67:function(e,t,a){e.exports=a(131)},72:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[67,1,2]]]);
//# sourceMappingURL=main.a5e2f96d.chunk.js.map